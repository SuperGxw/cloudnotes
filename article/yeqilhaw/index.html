<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.18" /><meta name="theme" content="VuePress Theme Plume " /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><meta property="og:url" content="https://supergxw.github.io/cloudnotes/article/yeqilhaw/"><meta property="og:site_name" content="Super_GXW"><meta property="og:title" content="DIN：深度兴趣网络"><meta property="og:description" content="提示 根据遗忘曲线：如果没有记录和回顾，6天后便会忘记75%的内容 阅读笔记正是帮助你记录和回顾的工具，不必拘泥于形式，其核心是：记录、翻看、思考 信息 论文 Deep Interest Network for Click-Through Rate Prediction 代码 https://github.com/zhougr1993/DeepInte..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-06-08T14:05:32.000Z"><meta property="article:tag" content="推荐算法"><meta property="article:tag" content="CTR模型"><meta property="article:tag" content="序列推荐"><meta property="article:modified_time" content="2025-06-08T14:05:32.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"DIN：深度兴趣网络","image":[""],"dateModified":"2025-06-08T14:05:32.000Z","author":[]}</script><title>DIN：深度兴趣网络 | Super_GXW</title><meta name="description" content="提示 根据遗忘曲线：如果没有记录和回顾，6天后便会忘记75%的内容 阅读笔记正是帮助你记录和回顾的工具，不必拘泥于形式，其核心是：记录、翻看、思考 信息 论文 Deep Interest Network for Click-Through Rate Prediction 代码 https://github.com/zhougr1993/DeepInte..."><link rel="preload" href="/cloudnotes/assets/style-BmH9Xe88.css" as="style"><link rel="stylesheet" href="/cloudnotes/assets/style-BmH9Xe88.css"><link rel="modulepreload" href="/cloudnotes/assets/app-DlVXqZPT.js"><link rel="modulepreload" href="/cloudnotes/assets/index.html-BfJRtgRf.js"><link rel="prefetch" href="/cloudnotes/assets/index.html-B0j7xCVO.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-TZvJXoLj.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-DFO1Ejwv.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-KRrOLsBx.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-CF9U3N4u.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-CVj1Wb3V.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-CHgmaZBd.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-CFvEG0u5.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-BMbPUQzW.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-C-b6LJ8H.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-BeobAlhK.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-BJ7GYyps.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-C31vtmDe.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-DsOpdua3.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-D6--XnSA.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-BB6kTt2_.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-CxwjHXg5.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-BctRABlX.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-BEYG2QVn.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-D-PbnymF.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-EBv24dR3.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-B68aoZko.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-BVH2GK7o.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-u9pOJgSK.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-BCp7tnd8.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-D1sZxVnO.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-B7gmgrQY.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-CyVNLVw3.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-oWLzjbJ_.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-CBJG2MJ-.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-DI3Plx68.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-ChNVIAG-.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-UIxqkU_y.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-B0Ef4zi9.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-DdxzfKbP.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-DnKWArH-.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/404.html-DRNQjRyo.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-DoKXessX.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-CP0CGtNh.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-Cl6I3Doe.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-ny4LLLgN.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-8SpBmGdp.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-0J1oJftp.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-BADnoi4r.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/index.html-DlNdh1Jq.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/photoswipe.esm-GXRgw7eJ.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/searchBox-default-B5TTySgp.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/searchBox-en-BtqMRd4s.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/SearchBox-Cm0wUDp6.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/CodeEditor-BDVAOiP5.js" as="script"><link rel="prefetch" href="/cloudnotes/assets/setupDevtools-7MC2TMWH-Buv53mt-.js" as="script"></head><body><div id="app"><!--[--><div class="theme-plume vp-layout" vp-container data-v-47d65deb><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-642909eb></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-642909eb> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-47d65deb data-v-0b4b09b5><div class="vp-navbar" vp-navbar data-v-0b4b09b5 data-v-614cc278><div class="wrapper" data-v-614cc278><div class="container" data-v-614cc278><div class="title" data-v-614cc278><div class="vp-navbar-title" data-v-614cc278 data-v-5783b3ba><a class="vp-link no-icon link title" href="/cloudnotes/" data-v-5783b3ba data-v-ccbe1db5><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" src="https://theme-plume.vuejs.press/plume.png" alt data-v-a36a7794><!--]--><!--[--><img class="vp-image light logo" src="https://theme-plume.vuejs.press/plume.png" alt data-v-a36a7794><!--]--><!--]--><!--]--><span data-v-5783b3ba>Super_GXW</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-614cc278><div class="content-body" data-v-614cc278><!--[--><!--]--><div class="vp-navbar-search search" data-v-614cc278><div class="search-wrapper" data-v-36f6187a><!----><div id="local-search" data-v-36f6187a><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-36f6187a><span class="mini-search-button-container"><svg class="mini-search-search-icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-614cc278 data-v-1a4c7c26><span id="main-nav-aria-label" class="visually-hidden" data-v-1a4c7c26>Main Navigation</span><!--[--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/cloudnotes/" tabindex="0" data-v-1a4c7c26 data-v-91090623 data-v-ccbe1db5><!--[--><!----><span data-v-91090623>首页</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/cloudnotes/blog/" tabindex="0" data-v-1a4c7c26 data-v-91090623 data-v-ccbe1db5><!--[--><!----><span data-v-91090623>博客</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/cloudnotes/blog/tags/" tabindex="0" data-v-1a4c7c26 data-v-91090623 data-v-ccbe1db5><!--[--><!----><span data-v-91090623>标签</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/cloudnotes/blog/archives/" tabindex="0" data-v-1a4c7c26 data-v-91090623 data-v-ccbe1db5><!--[--><!----><span data-v-91090623>归档</span><!--]--><!----></a><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-1a4c7c26 data-v-bf8bfdee><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-bf8bfdee><span class="text" data-v-bf8bfdee><!----><!----><span data-v-bf8bfdee>笔记</span><span class="vpi-chevron-down text-icon" data-v-bf8bfdee></span></span></button><div class="menu" data-v-bf8bfdee><div class="vp-menu" data-v-bf8bfdee data-v-c4f0485f><div class="items" data-v-c4f0485f><!--[--><!--[--><div class="vp-menu-link" data-v-c4f0485f data-v-e8123941><a class="vp-link no-icon link" href="/cloudnotes/demo/" data-v-e8123941 data-v-ccbe1db5><!--[--><!----> 示例<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><div class="vp-flyout vp-navbar-translations translations" data-v-614cc278 data-v-685ba139 data-v-bf8bfdee><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="选择语言" data-v-bf8bfdee><span class="text" data-v-bf8bfdee><!----><span class="vpi-languages option-icon" data-v-bf8bfdee></span><!----><span class="vpi-chevron-down text-icon" data-v-bf8bfdee></span></span></button><div class="menu" data-v-bf8bfdee><div class="vp-menu" data-v-bf8bfdee data-v-c4f0485f><!----><!--[--><!--[--><div class="items" data-v-685ba139><p class="title" data-v-685ba139>简体中文</p><!--[--><div class="vp-menu-link" data-v-685ba139 data-v-e8123941><a class="vp-link no-icon link" href="/cloudnotes/cloudnotes/blog/" data-v-e8123941 data-v-ccbe1db5><!--[--><!----> English<!--]--><!----></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="vp-navbar-appearance appearance" data-v-614cc278 data-v-03bf31d6><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-03bf31d6 data-v-02d9cc53 data-v-f098968b><span class="check" data-v-f098968b><span class="icon" data-v-f098968b><!--[--><span class="vpi-sun sun" data-v-02d9cc53></span><span class="vpi-moon moon" data-v-02d9cc53></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-614cc278 data-v-5741a8c0 data-v-25513a65><!--[--><a class="vp-social-link no-icon" href="/" aria-label="github" target="_blank" rel="noopener" data-v-25513a65 data-v-8e48678a><span class="vpi-social-github" /></a><a class="vp-social-link no-icon" href="/" aria-label="facebook" target="_blank" rel="noopener" data-v-25513a65 data-v-8e48678a><span class="vpi-social-facebook" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-614cc278 data-v-0612c465 data-v-bf8bfdee><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bf8bfdee><span class="vpi-more-horizontal icon" data-v-bf8bfdee></span></button><div class="menu" data-v-bf8bfdee><div class="vp-menu" data-v-bf8bfdee data-v-c4f0485f><!----><!--[--><!--[--><div class="group translations" data-v-0612c465><p class="trans-title" data-v-0612c465>简体中文</p><!--[--><div class="vp-menu-link" data-v-0612c465 data-v-e8123941><a class="vp-link no-icon link" href="/cloudnotes/cloudnotes/blog/" data-v-e8123941 data-v-ccbe1db5><!--[--><!----> English<!--]--><!----></a></div><!--]--></div><div class="group" data-v-0612c465><div class="item appearance" data-v-0612c465><p class="label" data-v-0612c465>外观</p><div class="appearance-action" data-v-0612c465><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-0612c465 data-v-02d9cc53 data-v-f098968b><span class="check" data-v-f098968b><span class="icon" data-v-f098968b><!--[--><span class="vpi-sun sun" data-v-02d9cc53></span><span class="vpi-moon moon" data-v-02d9cc53></span><!--]--></span></span></button></div></div></div><div class="group" data-v-0612c465><div class="item social-links" data-v-0612c465><div class="vp-social-links social-links-list" data-v-0612c465 data-v-25513a65><!--[--><a class="vp-social-link no-icon" href="/" aria-label="github" target="_blank" rel="noopener" data-v-25513a65 data-v-8e48678a><span class="vpi-social-github" /></a><a class="vp-social-link no-icon" href="/" aria-label="facebook" target="_blank" rel="noopener" data-v-25513a65 data-v-8e48678a><span class="vpi-social-facebook" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-614cc278 data-v-12dc601b><span class="container" data-v-12dc601b><span class="top" data-v-12dc601b></span><span class="middle" data-v-12dc601b></span><span class="bottom" data-v-12dc601b></span></span></button></div></div></div></div><div class="divider" data-v-614cc278><div class="divider-line" data-v-614cc278></div></div></div><!----></header><div class="vp-local-nav fixed reached-top is-blog" data-v-47d65deb data-v-88360637><button class="hidden menu" disabled aria-expanded="false" aria-controls="SidebarNav" data-v-88360637><span class="vpi-align-left menu-icon" data-v-88360637></span><span class="menu-text" data-v-88360637>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-88360637 data-v-eebfc553><button data-v-eebfc553>返回顶部</button><!----></div></div><!----><!--[--><div id="VPContent" vp-content class="vp-content" data-v-47d65deb data-v-bb9ef5d6><div class="is-blog vp-doc-container" data-v-4708a0a3><!--[--><!--]--><div class="container" data-v-4708a0a3><!----><div class="content" data-v-4708a0a3><div class="content-container" data-v-4708a0a3><!--[--><!--]--><main class="main" data-v-4708a0a3><nav class="vp-breadcrumb" data-v-4708a0a3 data-v-456a5d1e><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-456a5d1e><!--[--><li property="itemListElement" typeof="ListItem" data-v-456a5d1e><a class="vp-link no-icon link breadcrumb" href="/cloudnotes/" property="item" typeof="WebPage" data-v-456a5d1e data-v-ccbe1db5><!--[-->首页<!--]--><!----></a><span class="vpi-chevron-right" data-v-456a5d1e></span><meta property="position" content="1" data-v-456a5d1e></li><li property="itemListElement" typeof="ListItem" data-v-456a5d1e><a class="vp-link no-icon link breadcrumb" href="/cloudnotes/blog/" property="item" typeof="WebPage" data-v-456a5d1e data-v-ccbe1db5><!--[-->博客<!--]--><!----></a><span class="vpi-chevron-right" data-v-456a5d1e></span><meta property="position" content="2" data-v-456a5d1e></li><li property="itemListElement" typeof="ListItem" data-v-456a5d1e><a class="vp-link no-icon link breadcrumb" href="/cloudnotes/blog/categories/?id=0de097" property="item" typeof="WebPage" data-v-456a5d1e data-v-ccbe1db5><!--[-->deepctr<!--]--><!----></a><span class="vpi-chevron-right" data-v-456a5d1e></span><meta property="position" content="3" data-v-456a5d1e></li><li property="itemListElement" typeof="ListItem" data-v-456a5d1e><a class="vp-link no-icon link breadcrumb current" href="/cloudnotes/article/yeqilhaw/" property="item" typeof="WebPage" data-v-456a5d1e data-v-ccbe1db5><!--[-->DIN：深度兴趣网络<!--]--><!----></a><!----><meta property="position" content="4" data-v-456a5d1e></li><!--]--></ol></nav><!--[--><h1 class="vp-doc-title page-title" data-v-2e194bc9>DIN：深度兴趣网络 <!----></h1><div class="vp-doc-meta" data-v-2e194bc9><p class="reading-time" data-v-2e194bc9><span class="vpi-books icon" data-v-2e194bc9></span><span data-v-2e194bc9>2200字</span><span data-v-2e194bc9>约7分钟</span></p><p data-v-2e194bc9><span class="vpi-tag icon" data-v-2e194bc9></span><!--[--><a class="vp-link no-icon link tag vp-tag-lvwv" href="/cloudnotes/blog/tags/?tag=推荐算法" data-v-2e194bc9 data-v-ccbe1db5><!--[-->推荐算法<!--]--><!----></a><a class="vp-link no-icon link tag vp-tag-zbju" href="/cloudnotes/blog/tags/?tag=CTR模型" data-v-2e194bc9 data-v-ccbe1db5><!--[-->CTR模型<!--]--><!----></a><a class="vp-link no-icon link tag vp-tag-a61b" href="/cloudnotes/blog/tags/?tag=序列推荐" data-v-2e194bc9 data-v-ccbe1db5><!--[-->序列推荐<!--]--><!----></a><!--]--></p><p class="create-time" data-v-2e194bc9><span class="vpi-clock icon" data-v-2e194bc9></span><span data-v-2e194bc9>2024-09-28</span></p></div><!--]--><div class="vp-doc plume-content _article_yeqilhaw_ external-link-icon-enabled" vp-content data-v-4708a0a3><div class="hint-container tip"><p class="hint-container-title">提示</p><p>根据遗忘曲线：如果没有记录和回顾，6天后便会忘记75%的内容</p><p>阅读笔记正是帮助你记录和回顾的工具，不必拘泥于形式，其核心是：记录、翻看、思考</p></div><div class="hint-container info"><p class="hint-container-title">信息</p><p>论文 <a href="https://arxiv.org/pdf/1706.06978" target="_blank" rel="noopener noreferrer">Deep Interest Network for Click-Through Rate Prediction</a></p><p>代码 <a href="https://github.com/zhougr1993/DeepInterestNetwork" target="_blank" rel="noopener noreferrer">https://github.com/zhougr1993/DeepInterestNetwork</a></p><p>摘要: 本文提出了一个新的模型：深度兴趣网络（DIN），通过设计一个局部激活单元，根据特定广告的历史行为自适应地学习用户兴趣的表示。该表示向量针对不同的广告进行变化，极大地提升了模型的表达能力。此外，开发了两项技术：小批量感知正则化和数据自适应激活函数，可用于训练拥有数亿参数的工业级深度网络。</p></div><h2 id="_1-前言" tabindex="-1"><a class="header-anchor" href="#_1-前言"><span>1 前言</span></a></h2><p>Deep Interest Network（DIN）是2018年阿里巴巴提出来的模型， 该模型基于业务的观察，从实际应用的角度进行改进，相比于之前很多“学术风”的深度模型， 该模型更加具有业务气息。该模型的应用场景是阿里巴巴的电商广告推荐业务， 这样的场景下一般<strong>会有大量的用户历史行为信息</strong>， 这个其实是很关键的，因为DIN模型的创新点或者解决的问题就是使用了注意力机制来对用户的兴趣动态模拟， 而这个模拟过程存在的前提就是用户之前有大量的历史行为了，这样我们在预测某个商品广告用户是否点击的时候，就可以参考他之前购买过或者查看过的商品，这样就能猜测出用户的大致兴趣来，这样我们的推荐才能做的更加到位，所以这个模型的使用场景是<strong>非常注重用户的历史行为特征（历史购买过的商品或者类别信息）</strong>。</p><h2 id="_2-动机" tabindex="-1"><a class="header-anchor" href="#_2-动机"><span>2 动机</span></a></h2><p>在个性化的电商广告推荐业务场景中，也正是由于用户留下了大量的历史交互行为，才更加看出了之前的深度学习模型（统称 Embeding&amp;MLP 模型）的不足之处。如果学习了前面的各种深度学习模型，就会发现 Embeding&amp;MLP 模型对于这种推荐任务一般有着差不多的固定处理套路，就是大量稀疏特征先经过 embedding 层， 转成低维稠密的，然后进行拼接，最后喂入到多层神经网络中去。</p><p>这些模型在这种个性化广告点击预测任务中存在的问题就是<strong>无法表达用户广泛的兴趣</strong>，因为这些模型在得到各个特征的 embedding 之后，就蛮力拼接了，然后就各种交叉等。这时候根本没有考虑之前用户历史行为商品具体是什么，究竟用户历史行为中的哪个会对当前的点击预测带来积极的作用。 而实际上，对于用户点不点击当前的商品广告，很大程度上是依赖于他的历史行为的。</p><p>如果是之前的那些深度学习模型，是没法很好的去表达出用户这广泛多样的兴趣的，如果想表达的准确些， 那么就得加大隐向量的维度，让每个特征的信息更加丰富， 那这样带来的问题就是计算量上去了，毕竟真实情景尤其是电商广告推荐的场景，特征维度的规模是非常大的。 并且根据上面的例子， 也<strong>并不是用户所有的历史行为特征都会对某个商品广告点击预测起到作用</strong>。所以对于当前某个商品广告的点击预测任务，没必要考虑之前所有的用户历史行为。</p><p>这样， DIN的动机就出来了，在业务的角度，我们应该自适应的去捕捉用户的兴趣变化，这样才能较为准确的实施广告推荐；而放到模型的角度， 我们应该<strong>考虑到用户的历史行为商品与当前商品广告的一个关联性</strong>，如果用户历史商品中很多与当前商品关联，那么说明该商品可能符合用户的品味，就把该广告推荐给他。而一谈到关联性的话， 我们就容易想到“注意力”的思想了， 所以为了更好的从用户的历史行为中学习到与当前商品广告的关联性，学习到用户的兴趣变化， 作者把注意力引入到了模型，设计了一个&quot;local activation unit&quot;结构，利用候选商品和历史问题商品之间的相关性计算出权重，这个就代表了对于当前商品广告的预测，用户历史行为的各个商品的重要程度大小， 而加入了注意力权重的深度学习网络。</p><h2 id="_3-模型原理" tabindex="-1"><a class="header-anchor" href="#_3-模型原理"><span>3 模型原理</span></a></h2><h3 id="base-模型" tabindex="-1"><a class="header-anchor" href="#base-模型"><span>Base 模型</span></a></h3><p>Base 模型就是现在比较常见的多层神经网络，即先对特征进行 Embedding 操作，得到一系列 Embedding 向量之后，将不同 group 的特征 concate 起来之后得到一个固定长度的向量，然后将此向量喂给后续的全连接网络，最后输出 pCTR 值具体网络结构如下 <img src="/cloudnotes/assets/din_base-CcSvPAaH.png" alt="alt text"></p><h3 id="din-模型" tabindex="-1"><a class="header-anchor" href="#din-模型"><span>DIN 模型</span></a></h3><h4 id="模型架构" tabindex="-1"><a class="header-anchor" href="#模型架构"><span>模型架构</span></a></h4><p>其实对比 DIN 模型和 Base 模型就可以发现在模型结构上的差别主要就在如何聚合多个用户行为 Embedding 向量，Base 模型中直接对多个 Embedding 向量进行等权的 sum-pooling，这种方法肯定会带来信息的丢失，而且相对重要的 Embedding 向量也无法完全突出自己所包含的信息。所以 DIN 采取了一个比较直观的方式，就是 weighted-sum pooling，而且 Attention 的本质也可以认为是 weighted-sum，让模型更加关注有用的信息（有用信息的权重会更大一些）。 <img src="/cloudnotes/assets/din-BsDwYXqw.png" alt="alt text"></p><h5 id="activation-unit" tabindex="-1"><a class="header-anchor" href="#activation-unit"><span>Activation Unit</span></a></h5><p>对于用户的每个行为 Embedding 向量，都需要计算出一个权重，这个权重代表了对于当前商品广告的预测，用户历史行为的各个商品的重要程度大小。</p><p>在本文当中计算 Attention 权重的方式是利用用户行为的 Embedding 向量和广告的 Embedding 向量来进行计算，具体文章中采用的是用一个神经网络（activation unit）来得到 weight，其网络结构如下 <img src="/cloudnotes/assets/din_unit-SIDNxqGv.png" alt="alt text"></p><p>其中 Activation Unit 的输入包括两个部分，一个是原始的用户行为 Embedding 向量、广告 Embedding 向量；另外一个是两者 Embedding 向量经过外积计算后得到的向量，文章指出这种方式有利于 relevance modeling。</p><p>除此之外文章用到的 Attention 机制不是原始 NLP 任务中采用的 Attention，文章中放宽了对于权重加和等于一的限制，这样更有利于体现不同用户行为特征之间的差异化程度。</p><h5 id="mini-batch-aware-regularization-mbar" tabindex="-1"><a class="header-anchor" href="#mini-batch-aware-regularization-mbar"><span>Mini-batch Aware Regularization(MBAR)</span></a></h5><p>mini-batch aware regularization 主要解决的就是在大规模稀疏场景下，采用 SGD 对引入 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>l</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">l_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0197em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 正则的 loss 进行更新时计算开销过大的问题。该方法只对每一个 mini-batch 中参数不为 0 的进行梯度更新，经过一系列推到之后得到近似的梯度计算公式如下所示</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>w</mi><mi>j</mi></msub><mo>←</mo><msub><mi>w</mi><mi>j</mi></msub><mo>−</mo><mi>η</mi><mrow><mo fence="true">[</mo><mfrac><mn>1</mn><mrow><mi mathvariant="normal">∣</mi><msub><mi mathvariant="script">B</mi><mi>m</mi></msub><mi mathvariant="normal">∣</mi></mrow></mfrac><munder><mo>∑</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>∈</mo><msub><mi mathvariant="script">B</mi><mi>m</mi></msub></mrow></munder><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>L</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>w</mi><mi>j</mi></msub></mrow></mfrac><mo>+</mo><mi>λ</mi><mfrac><msub><mi>α</mi><mrow><mi>m</mi><mi>j</mi></mrow></msub><msub><mi>n</mi><mi>j</mi></msub></mfrac><msub><mi>w</mi><mi>j</mi></msub><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex"> w_j \leftarrow w_j - \eta \left[ \frac{1}{|\mathcal{B}_m|} \sum_{(x, y) \in \mathcal{B}_m} \frac{\partial L(p(x), y)}{\partial w_j} + \lambda \frac{\alpha_{mj}}{n_j} w_j \right] </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">η</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewBox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord"><span class="mord mathcal" style="margin-right:0.03041em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0304em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.809em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="mclose mtight">)</span><span class="mrel mtight">∈</span><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:0.03041em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0304em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.516em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9721em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">λ</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">mj</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9721em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewBox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v0 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><h5 id="自适应激活函数-dice" tabindex="-1"><a class="header-anchor" href="#自适应激活函数-dice"><span>自适应激活函数(Dice)</span></a></h5><p>文章认为采用 PRelu 激活函数时，他的 rectified point 固定为 0，这在每一层的输入分布发生变化时是不适用的，所以文章对该激活函数机型了改进，平滑了 rectified point 附近曲线的同时，激活函数会根据每层输入数据的分布来自适应调整 rectified point 的位置，具体形式如下:</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><mi>p</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>⋅</mo><mi>s</mi><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>⋅</mo><mi>α</mi><mi>s</mi><mo separator="true">,</mo><mspace width="1em"></mspace><mi>p</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mn>1</mn><mo>+</mo><msup><mi>e</mi><mrow><mo>−</mo><mfrac><mrow><mi>s</mi><mo>−</mo><mi>E</mi><mo stretchy="false">[</mo><mi>s</mi><mo stretchy="false">]</mo></mrow><msqrt><mrow><mi>V</mi><mi>a</mi><mi>r</mi><mo stretchy="false">[</mo><mi>s</mi><mo stretchy="false">]</mo><mo>+</mo><mi>ϵ</mi></mrow></msqrt></mfrac></mrow></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex"> f(s) = p(s) \cdot s + (1 - p(s)) \cdot \alpha s, \quad p(s) = \frac{1}{1 + e^{-\frac{s - E[s]}{\sqrt{Var[s] + \epsilon}}}} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.7337em;vertical-align:-1.4123em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.11em;"><span class="pstrut" style="height:3.4389em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.4389em;"><span style="top:-3.7125em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0378em;"><span style="top:-2.4358em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0369em;"><span class="svg-align" style="top:-3.4286em;"><span class="pstrut" style="height:3.4286em;"></span><span class="mord mtight" style="padding-left:1.19em;"><span class="mord mathnormal mtight">Va</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mopen mtight">[</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">]</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">ϵ</span></span></span><span style="top:-3.0089em;"><span class="pstrut" style="height:3.4286em;"></span><span class="hide-tail mtight" style="min-width:0.853em;height:1.5429em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.5429em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4197em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.5021em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="mopen mtight">[</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">]</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8639em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.6689em;"><span class="pstrut" style="height:3.4389em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-4.1159em;"><span class="pstrut" style="height:3.4389em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4123em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><p>DIN模型的确给 CTR 预估领域带来了新的研究思路。同时算法与工程架构是相辅相成的，在模型越来越复杂的今天，如何有效的提升线上服务的工程架构也是每一个推荐、搜索、广告领域算法工程师需要考虑的。</p></div></main><footer class="vp-doc-footer" data-v-4708a0a3 data-v-6ad65b7a><!--[--><!--]--><!----><div class="contributors" data-v-6ad65b7a><span class="contributors-label" data-v-6ad65b7a>贡献者: </span><span class="contributors-info" data-v-6ad65b7a><!--[--><!--[--><span class="contributor" data-v-6ad65b7a>SuperGxw</span><!----><!--]--><!--]--></span></div><nav class="prev-next" data-v-6ad65b7a><div class="pager" data-v-6ad65b7a><a class="vp-link no-icon link pager-link prev" href="/cloudnotes/article/e2thghv1/" data-v-6ad65b7a data-v-ccbe1db5><!--[--><span class="desc" data-v-6ad65b7a>上一页</span><span class="title" data-v-6ad65b7a>Wide&Deep：经典CTR模型</span><!--]--><!----></a></div><div class="pager" data-v-6ad65b7a><a class="vp-link no-icon link pager-link next" href="/cloudnotes/article/8a73gejw/" data-v-6ad65b7a data-v-ccbe1db5><!--[--><span class="desc" data-v-6ad65b7a>下一页</span><span class="title" data-v-6ad65b7a>DeepFM：深度FM模型</span><!--]--><!----></a></div></nav></footer><!----><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-47d65deb data-v-1985d776><span class="percent" data-allow-mismatch data-v-1985d776>0%</span><span class="show icon vpi-back-to-top" data-v-1985d776></span><svg aria-hidden="true" data-v-1985d776><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-1985d776></circle></svg></button><footer class="vp-footer" vp-footer data-v-47d65deb data-v-828ecd31><div class="container" data-v-828ecd31><p class="message" data-v-828ecd31>Powered by <a target="_blank" href="https://v2.vuepress.vuejs.org/">VuePress</a> & <a target="_blank" href="https://theme-plume.vuejs.press">vuepress-theme-plume</a></p><!----></div></footer><!--[--><!--]--><!--]--></div><!--[--><!--]--><!--]--></div><script type="module" src="/cloudnotes/assets/app-DlVXqZPT.js" defer></script></body></html>